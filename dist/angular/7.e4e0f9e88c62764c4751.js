(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{xQww:function(t,e,n){"use strict";n.r(e),n.d(e,"FeedModule",function(){return R});var i=n("ofXK"),r=n("7qN/"),o=n("3Pt+"),c=n("fXoL"),s=n("l7P3"),a=n("34EF"),p=n("jhN1"),b=n("kmnG"),d=n("qFsG"),h=n("bTqV"),l=n("tyNb"),u=n("Wp6s");function m(t,e){if(1&t&&(c.Rb(0,"div",5),c.Nb(1,"img",6),c.Qb()),2&t){const t=c.ac();c.Cb(1),c.dc("src",t.chirp.ImageURL,c.hc)}}const g=function(t){return{"background-image":t}};let f=(()=>{class t{constructor(t,e){this.router=t,this.store=e}ngOnInit(){}goToProfile(){this.router.navigate(["profile"],{queryParams:{ID:this.chirp.ID}})}goComment(){this.store.dispatch(new r.j(this.chirp)),this.router.navigate(["comment"],{queryParams:{PostID:this.chirp.PostID}})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(l.b),c.Mb(s.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-chirp"]],inputs:{chirp:"chirp"},decls:16,vars:7,consts:[["mat-card-avatar","",2,"background-size","cover",3,"ngStyle"],[2,"cursor","pointer",3,"click"],["id","imgheader",4,"ngIf"],["mat-stroked-button",""],["mat-stroked-button","",3,"click"],["id","imgheader"],[3,"src"]],template:function(t,e){1&t&&(c.Rb(0,"mat-card"),c.Rb(1,"mat-card-header"),c.Nb(2,"div",0),c.Rb(3,"mat-card-title",1),c.Yb("click",function(){return e.goToProfile()}),c.kc(4),c.Qb(),c.Rb(5,"mat-card-subtitle"),c.kc(6),c.Qb(),c.Qb(),c.jc(7,m,2,1,"div",2),c.Rb(8,"mat-card-content"),c.Rb(9,"p"),c.kc(10),c.Qb(),c.Qb(),c.Rb(11,"mat-card-actions"),c.Rb(12,"button",3),c.kc(13,"RECHIRP"),c.Qb(),c.Rb(14,"button",4),c.Yb("click",function(){return e.goComment()}),c.kc(15,"COMMENT"),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.Cb(2),c.dc("ngStyle",c.ec(5,g,"url("+e.chirp.AvatarURL+")")),c.Cb(2),c.lc(e.chirp.Username),c.Cb(2),c.lc(e.chirp.Date),c.Cb(1),c.dc("ngIf",e.chirp.ImageURL),c.Cb(3),c.mc(" ",e.chirp.Text," "))},directives:[u.a,u.e,u.c,i.j,u.h,u.g,i.i,u.d,u.b,h.a],styles:["mat-card[_ngcontent-%COMP%]{background-color:#f5f5f5;margin-top:15px}#imgheader[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:25px}#imgheader[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;overflow-y:hidden}mat-card-content[_ngcontent-%COMP%]{padding-top:10px}"]}),t})();function w(t,e){if(1&t&&(c.Rb(0,"div",10),c.Nb(1,"img",11),c.Qb()),2&t){const t=c.ac();c.Cb(1),c.dc("src",t.preview,c.hc)}}function C(t,e){1&t&&c.Nb(0,"app-chirp",12),2&t&&c.dc("chirp",e.$implicit)}let v=(()=>{class t{constructor(t,e,n){this.store=t,this.ws=e,this.sanitizer=n}ngOnDestroy(){this.endpointsSubs&&this.endpointsSubs.unsubscribe()}ngOnInit(){this.endpointsSubs=this.store.select("endpoints").subscribe(t=>{this.feed=t.feed}),this.store.dispatch(new r.s({})),this.initiatePostForm()}initiatePostForm(){this.postForm=new o.d({Text:new o.b(null,o.k.required),Image:new o.b(null)})}onFileChange(t){t.target.files&&t.target.files.length&&(this.fileHolder=t.target.files[0],this.preview=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(this.fileHolder)))}sendChirp(){this.ws.postWithImage(this.postForm.value.Text,this.fileHolder),this.postForm.setValue({Text:null,Image:null}),this.postForm.markAsPristine(),this.postForm.markAsUntouched(),this.postForm.controls.Text.setErrors(null),this.preview=null}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(s.b),c.Mb(a.a),c.Mb(p.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-feed"]],decls:12,vars:4,consts:[["id","container"],["id","post"],["id","post-wrapper"],["id","preview",4,"ngIf"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","what's happening?..","formControlName","Text"],["id","btn-group"],["type","file","formControlName","Image",3,"change"],["mat-raised-button","","color","primary",3,"disabled"],[3,"chirp",4,"ngFor","ngForOf"],["id","preview"],[3,"src"],[3,"chirp"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.jc(3,w,2,1,"div",3),c.Rb(4,"form",4),c.Yb("ngSubmit",function(){return e.sendChirp()}),c.Rb(5,"mat-form-field"),c.Nb(6,"textarea",5),c.Qb(),c.Rb(7,"div",6),c.Rb(8,"input",7),c.Yb("change",function(t){return e.onFileChange(t)}),c.Qb(),c.Rb(9,"button",8),c.kc(10,"chirp"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.jc(11,C,1,1,"app-chirp",9),c.Qb()),2&t&&(c.Cb(3),c.dc("ngIf",e.preview),c.Cb(1),c.dc("formGroup",e.postForm),c.Cb(5),c.dc("disabled",e.postForm.invalid),c.Cb(2),c.dc("ngForOf",e.feed))},directives:[i.i,o.l,o.h,o.e,b.b,d.a,o.a,o.g,o.c,h.a,i.h,f],styles:["#container[_ngcontent-%COMP%]{height:100%}#preview[_ngcontent-%COMP%]{display:flex;justify-content:center}#preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{overflow-y:hidden;width:100%}#post[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:15px;background-color:#f5f5f5;padding-bottom:15px;padding-top:15px}mat-form-field[_ngcontent-%COMP%]{margin-top:15px;width:100%}#post-wrapper[_ngcontent-%COMP%]{width:85%}#btn-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();var P=n("PCNd");let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({imports:[[i.b,l.d.forChild([{path:"",component:v}]),P.a]]}),t})()}}]);